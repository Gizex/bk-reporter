# README

## Название проекта: Веб-приложение для обработки отчетов vCloud Director

### Описание:
Данное приложение на Flask предназначено для обработки и анализа данных о потреблении ресурсов виртуальных машин в vCloud Director . Пользователи могут загружать CSV файлы с данными о потреблении ресурсов, после чего приложение обрабатывает эти данные и создает отчет в формате Excel. В отчете создается сводная таблица по проектам, что упрощает отслеживание использования ресурсов и помогает оптимизировать инфраструктуру.

### Структура проекта:
```
.
├── Dockerfile                      # Файл для создания Docker контейнера
├── app.py                          # Основной файл приложения Flask
├── docker-compose.yml              # Файл для управления Docker контейнером через Docker Compose
├── read_and_process_data.py        # Модуль для обработки данных (по vm name)
├── read_and_process_data_v2.py     # Модуль для обработки данных (по vApps)
├── requirements.txt                # Зависимости проекта
├── static                          # Статические файлы (CSS)
│   └── styles.css                  # Файл стилей для веб-интерфейса
└── templates                       # Шаблоны HTML
    └── index.html                  # Главная страница веб-интерфейса
```

### Установка и запуск:
1. Клонировать репозиторий с кодом.
2. Установить зависимости, используя `pip install -r requirements.txt` (Предполагается, что вы уже имеете Python).
3. Запустить приложение, выполнив команду `python app.py` в директории с проектом.
   - Дополнительно, можно использовать Docker для запуска приложения. Для этого воспользуйтесь файлом `Dockerfile` и `docker-compose.yml`. С помощью команды `docker-compose up` можно запустить контейнер.

### Использование:
1. Откройте веб-браузер и перейдите по адресу http://0.0.0.0:5000.
2. Загрузите CSV-файл с данными, используя интерфейс веб-приложения.
3. Выберите способ обработки данных: по названию ВМ или по vApp.
4. После загрузки файла, приложение обработает данные и предложит скачать отчет в формате Excel.

### Детали реализации:
Приложение содержит два модуля обработки данных: `read_and_process_data.py` и `read_and_process_data_v2.py`. Они предоставляют разные способы обработки

 данных из CSV-файла. Первый метод `read_and_process_data` группирует проекты на основе содержания названия ВМ. Второй метод `read_and_process_data_v2` обрабатывает данные с некоторыми изменениями в логике группировки и переименования столбцов на основе vApps. Выбор между этими методами может быть сделан через веб-интерфейс приложения.
    Выполняется чтение исходного файла.
    Фильтрация и переименование столбцов.
    Преобразование данных по памяти и хранилищу из MB в GB.
    Определение проекта на основе названия ВМ и или vApps.
### Примечания:
- Убедитесь, что формат CSV-файла, который вы загружаете, соответствует ожидаемому формату. В частности, код в `read_and_process_data.py` и `read_and_process_data_v2.py` предполагает, что данные представлены в определенной структуре с определенными столбцами.
- Приложение предназначено для локального использования. Прежде чем развертывать его в открытом доступе, необходимо убедиться в соответствии с мерами безопасности.

### Автор:
- Gizex

